=== é£ä¹¦æ¨é€é—®é¢˜å®Œæ•´è§£å†³æ–¹æ¡ˆ ===

ğŸš¨ å½“å‰é—®é¢˜åˆ†æï¼š
ä»æˆªå›¾çœ‹åˆ°ï¼šé£ä¹¦è‡ªåŠ¨åŒ–æ˜¾ç¤º"è¿è¡Œå¤±è´¥"ï¼Œæç¤º"HTTPè¯·æ±‚å‡ºå‚è¿”å›æ ¼å¼ä¸æ­£ç¡®"

ğŸ” é—®é¢˜åŸå› ï¼š
1. GitHub APIè¿”å›çš„å“åº”æ ¼å¼ä¸é£ä¹¦æœŸæœ›çš„ä¸åŒ¹é…
2. å¯èƒ½ä»ç„¶å­˜åœ¨Tokenè®¤è¯é—®é¢˜
3. é£ä¹¦è‡ªåŠ¨åŒ–çš„å“åº”å¤„ç†é…ç½®ä¸æ­£ç¡®

âš¡ å®Œæ•´è§£å†³æ­¥éª¤ï¼š

=== ç¬¬ä¸€æ­¥ï¼šé‡æ–°åˆ›å»ºGitHub Token ===
1. è®¿é—®ï¼šhttps://github.com/settings/tokens
2. åˆ é™¤æ‰€æœ‰æ—§çš„Token
3. ç‚¹å‡»"Generate new token (classic)"
4. é…ç½®ï¼š
   - Tokenåç§°ï¼šFeishu-Map-Integration-2025
   - è¿‡æœŸæ—¶é—´ï¼šNo expiration
   - æƒé™å‹¾é€‰ï¼š
     âœ… repo (å®Œæ•´ä»“åº“è®¿é—®)
     âœ… workflow (å·¥ä½œæµè®¿é—®)
     âœ… admin:repo_hook (ä»“åº“é’©å­ç®¡ç†)
5. å¤åˆ¶Tokenï¼ˆæ ¼å¼ï¼šghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxï¼‰

=== ç¬¬äºŒæ­¥ï¼šä¿®å¤é£ä¹¦è‡ªåŠ¨åŒ–é…ç½® ===

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**è¯·æ±‚URL**ï¼š
```
https://api.github.com/repos/AlimanIrawan/indonesia-map-feishu-integration/dispatches
```

**è¯·æ±‚å¤´ï¼ˆHeadersï¼‰**ï¼š
```
Authorization: token ghp_ä½ çš„æ–°Token
Content-Type: application/json
Accept: application/vnd.github.v3+json
User-Agent: Feishu-Automation/1.0
```

**è¯·æ±‚ä½“ï¼ˆBodyï¼‰** - JSONæ ¼å¼ï¼š
```json
{
  "event_type": "feishu-data-update",
  "client_payload": {
    "shop_code": "{{è®°å½•.shop_code}}",
    "latitude": "{{è®°å½•.latitude}}",
    "longitude": "{{è®°å½•.longitude}}",
    "outlet_name": "{{è®°å½•.outlet_name}}",
    "brand": "{{è®°å½•.brand}}",
    "kecamatan": "{{è®°å½•.kecamatan}}",
    "potensi": "{{è®°å½•.potensi}}"
  }
}
```

**å“åº”å¤„ç†é…ç½®**ï¼š
åœ¨é£ä¹¦è‡ªåŠ¨åŒ–çš„"é«˜çº§è®¾ç½®"ä¸­ï¼š
- æˆåŠŸçŠ¶æ€ç ï¼š204
- å“åº”æ ¼å¼ï¼šä¸æ£€æŸ¥å“åº”å†…å®¹
- æˆ–è€…è®¾ç½®ä¸ºï¼šä»»ä½•2xxçŠ¶æ€ç éƒ½è§†ä¸ºæˆåŠŸ

=== ç¬¬ä¸‰æ­¥ï¼šå­—æ®µæ˜ å°„æ£€æŸ¥ ===

ç¡®è®¤ä½ çš„é£ä¹¦è¡¨æ ¼å­—æ®µåç§°ï¼Œå¹¶ç›¸åº”ä¿®æ”¹JSONä¸­çš„æ˜ å°„ï¼š

å¸¸è§å­—æ®µåå¯¹ç…§ï¼š
```
é£ä¹¦å­—æ®µå â†’ JSONå­—æ®µå
é—¨åº—ç¼–å·/åº—é“ºä»£ç  â†’ shop_code
çº¬åº¦/lat â†’ latitude
ç»åº¦/lng/lon â†’ longitude
åº—é“ºåç§°/nama_pemilik â†’ outlet_name
å“ç‰Œ/brand_name â†’ brand
åŒºåŸŸ/district/åœ°åŒº â†’ kecamatan
æ½œåŠ›/potential/ç±»å‹ â†’ potensi
```

ç¤ºä¾‹ï¼šå¦‚æœä½ çš„å­—æ®µæ˜¯ä¸­æ–‡åç§°
```json
{
  "event_type": "feishu-data-update",
  "client_payload": {
    "shop_code": "{{è®°å½•.é—¨åº—ç¼–å·}}",
    "latitude": "{{è®°å½•.çº¬åº¦}}",
    "longitude": "{{è®°å½•.ç»åº¦}}",
    "outlet_name": "{{è®°å½•.åº—é“ºåç§°}}",
    "brand": "{{è®°å½•.å“ç‰Œ}}",
    "kecamatan": "{{è®°å½•.åŒºåŸŸ}}",
    "potensi": "{{è®°å½•.æ½œåŠ›ç­‰çº§}}"
  }
}
```

=== ç¬¬å››æ­¥ï¼šæµ‹è¯•Tokenæœ‰æ•ˆæ€§ ===

åœ¨é…ç½®ä¹‹å‰ï¼Œå…ˆæµ‹è¯•Tokenæ˜¯å¦æœ‰æ•ˆï¼š

1. æ‰“å¼€ç»ˆç«¯/å‘½ä»¤è¡Œ
2. è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆæ›¿æ¢ä½ çš„Tokenï¼‰ï¼š
```bash
curl -H "Authorization: token ghp_ä½ çš„Token" \
     -H "Accept: application/vnd.github.v3+json" \
     https://api.github.com/repos/AlimanIrawan/indonesia-map-feishu-integration
```

å¦‚æœè¿”å›ä»“åº“ä¿¡æ¯ï¼ˆJSONæ ¼å¼ï¼‰ï¼Œè¯´æ˜Tokenæœ‰æ•ˆã€‚
å¦‚æœè¿”å›401é”™è¯¯ï¼Œè¯´æ˜Tokenæ— æ•ˆï¼Œéœ€è¦é‡æ–°åˆ›å»ºã€‚

=== ç¬¬äº”æ­¥ï¼šæµ‹è¯•APIè°ƒç”¨ ===

æµ‹è¯•å®Œæ•´çš„APIè°ƒç”¨ï¼š
```bash
curl -X POST \
  -H "Authorization: token ghp_ä½ çš„Token" \
  -H "Content-Type: application/json" \
  -H "Accept: application/vnd.github.v3+json" \
  -d '{
    "event_type": "feishu-data-update",
    "client_payload": {
      "shop_code": "TEST001",
      "latitude": "-6.2",
      "longitude": "106.816666",
      "outlet_name": "æµ‹è¯•é—¨åº—",
      "brand": "æµ‹è¯•å“ç‰Œ",
      "kecamatan": "æµ‹è¯•åŒºåŸŸ",
      "potensi": "é«˜æ½œåŠ›"
    }
  }' \
  https://api.github.com/repos/AlimanIrawan/indonesia-map-feishu-integration/dispatches
```

æˆåŠŸçš„å“åº”åº”è¯¥æ˜¯ï¼š
- çŠ¶æ€ç ï¼š204 No Content
- æ— å“åº”ä½“å†…å®¹

=== ç¬¬å…­æ­¥ï¼šé£ä¹¦è‡ªåŠ¨åŒ–è¯¦ç»†é…ç½® ===

1. **è§¦å‘å™¨**ï¼šå½“è®°å½•è¢«åˆ›å»ºæ—¶ æˆ– å½“è®°å½•è¢«ä¿®æ”¹æ—¶
2. **åŠ¨ä½œ**ï¼šå‘é€HTTPè¯·æ±‚
3. **é«˜çº§è®¾ç½®**ï¼š
   - è¶…æ—¶æ—¶é—´ï¼š30ç§’
   - é‡è¯•æ¬¡æ•°ï¼š3æ¬¡
   - æˆåŠŸçŠ¶æ€ç ï¼š204 æˆ– 2xx
   - å¤±è´¥å¤„ç†ï¼šè®°å½•æ—¥å¿—

=== ç¬¬ä¸ƒæ­¥ï¼šå®Œæ•´æµ‹è¯•æµç¨‹ ===

1. ä¿å­˜é£ä¹¦è‡ªåŠ¨åŒ–é…ç½®
2. åœ¨é£ä¹¦è¡¨æ ¼ä¸­æ·»åŠ æµ‹è¯•è®°å½•ï¼š
   ```
   shop_code: TEST001
   latitude: -6.2
   longitude: 106.816666
   outlet_name: æµ‹è¯•é—¨åº—
   brand: æµ‹è¯•å“ç‰Œ
   kecamatan: æµ‹è¯•åŒºåŸŸ
   potensi: é«˜æ½œåŠ›
   ```
3. è§‚å¯Ÿè‡ªåŠ¨åŒ–æ‰§è¡Œç»“æœ
4. æ£€æŸ¥GitHub Actionsï¼š
   https://github.com/AlimanIrawan/indonesia-map-feishu-integration/actions
5. ç¡®è®¤CSVæ–‡ä»¶æ›´æ–°ï¼š
   https://github.com/AlimanIrawan/indonesia-map-feishu-integration/blob/main/public/markers.csv

âœ… æˆåŠŸæ ‡å¿—ï¼š
- é£ä¹¦è‡ªåŠ¨åŒ–æ˜¾ç¤º"è¿è¡ŒæˆåŠŸ"
- GitHub Actionsæœ‰æ–°çš„å·¥ä½œæµè¿è¡Œ
- CSVæ–‡ä»¶æœ‰æ–°å¢æ•°æ®
- åœ°å›¾åº”ç”¨æ˜¾ç¤ºæ–°æ ‡è®°ç‚¹

âŒ å¸¸è§é”™è¯¯åŠè§£å†³ï¼š

1. **401 Bad credentials**ï¼š
   - é‡æ–°åˆ›å»ºToken
   - ç¡®ä¿Tokenæœ‰æ­£ç¡®æƒé™

2. **404 Not Found**ï¼š
   - æ£€æŸ¥ä»“åº“åç§°ï¼šindonesia-map-feishu-integration
   - ç¡®ä¿Tokenæœ‰ä»“åº“è®¿é—®æƒé™

3. **HTTPè¯·æ±‚å‡ºå‚è¿”å›æ ¼å¼ä¸æ­£ç¡®**ï¼š
   - è®¾ç½®æˆåŠŸçŠ¶æ€ç ä¸º204
   - ä¸æ£€æŸ¥å“åº”å†…å®¹æ ¼å¼
   - æˆ–æ¥å—ä»»ä½•2xxçŠ¶æ€ç 

4. **å­—æ®µæ˜ å°„é”™è¯¯**ï¼š
   - ç¡®è®¤é£ä¹¦å­—æ®µåç§°
   - æ£€æŸ¥JSONè¯­æ³•æ­£ç¡®æ€§

ğŸ”§ è°ƒè¯•æŠ€å·§ï¼š

1. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**ï¼šç‚¹å‡»é£ä¹¦è‡ªåŠ¨åŒ–çš„"è¯¦æƒ…"æŸ¥çœ‹å…·ä½“é”™è¯¯
2. **åˆ†æ­¥æµ‹è¯•**ï¼šå…ˆç”¨curlå‘½ä»¤æµ‹è¯•API
3. **ç®€åŒ–æµ‹è¯•**ï¼šå…ˆç”¨æœ€å°‘å­—æ®µæµ‹è¯•
4. **æ£€æŸ¥æƒé™**ï¼šç¡®ä¿GitHub Tokenæƒé™å……è¶³

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œä½ çš„é£ä¹¦æ•°æ®æ¨é€åº”è¯¥èƒ½æ­£å¸¸å·¥ä½œï¼ 