=== é£ä¹¦HTTPè¯·æ±‚è‡ªåŠ¨åŒ–é…ç½®æŒ‡å— ===

ğŸ¯ é€‚ç”¨åœºæ™¯ï¼š
ä½¿ç”¨é£ä¹¦è‡ªåŠ¨åŒ–çš„"å‘é€HTTPè¯·æ±‚"åŠŸèƒ½ï¼Œç›´æ¥è°ƒç”¨GitHub API

ğŸ“‹ é…ç½®æ­¥éª¤ï¼š

ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºGitHub Personal Access Token
1. è®¿é—®ï¼šhttps://github.com/settings/tokens
2. ç‚¹å‡»"Generate new token (classic)"
3. Tokenåç§°ï¼šFeishu-Integration-Token
4. æƒé™é€‰æ‹©ï¼š
   âœ… repo (å®Œæ•´ä»“åº“è®¿é—®æƒé™)
   âœ… workflow (å·¥ä½œæµè®¿é—®æƒé™)
5. å¤åˆ¶ç”Ÿæˆçš„tokenï¼ˆæ ¼å¼ï¼šghp_xxxxxxxxxxxxxxxxxxxxï¼‰
   âš ï¸ é‡è¦ï¼šTokenåªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·ç«‹å³å¤åˆ¶ä¿å­˜ï¼

ç¬¬äºŒæ­¥ï¼šåœ¨é£ä¹¦å¤šç»´è¡¨æ ¼ä¸­é…ç½®è‡ªåŠ¨åŒ–
1. æ‰“å¼€æ‚¨çš„é£ä¹¦å¤šç»´è¡¨æ ¼
2. ç‚¹å‡»å³ä¸Šè§’"è‡ªåŠ¨åŒ–"
3. åˆ›å»ºæ–°è‡ªåŠ¨åŒ–ï¼š
   - è§¦å‘å™¨ï¼šå½“è®°å½•è¢«åˆ›å»ºæ—¶ï¼ˆæˆ–è¢«ä¿®æ”¹æ—¶ï¼‰
   - åŠ¨ä½œï¼šå‘é€HTTPè¯·æ±‚

ç¬¬ä¸‰æ­¥ï¼šHTTPè¯·æ±‚é…ç½®

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**è¯·æ±‚URL**ï¼š
https://api.github.com/repos/AlimanIrawan/indonesia-map-feishu-integration/dispatches

**è¯·æ±‚å¤´ï¼ˆHeadersï¼‰**ï¼š
```
Authorization: token ghp_your_real_token_here
Content-Type: application/json
Accept: application/vnd.github.v3+json
User-Agent: Feishu-Automation
```

**è¯·æ±‚ä½“ï¼ˆBodyï¼‰**ï¼š
é€‰æ‹©"JSONæ ¼å¼"ï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š

```json
{
  "event_type": "feishu-data-update",
  "client_payload": {
    "shop_code": "{{è®°å½•.shop_code}}",
    "latitude": "{{è®°å½•.latitude}}",
    "longitude": "{{è®°å½•.longitude}}",
    "outlet_name": "{{è®°å½•.outlet_name}}",
    "brand": "{{è®°å½•.brand}}",
    "kecamatan": "{{è®°å½•.kecamatan}}",
    "potensi": "{{è®°å½•.potensi}}"
  }
}
```

ç¬¬å››æ­¥ï¼šå­—æ®µæ˜ å°„è¯´æ˜
æ ¹æ®æ‚¨çš„å®é™…å­—æ®µåç§°ï¼Œä¿®æ”¹ä¸Šé¢JSONä¸­çš„å­—æ®µæ˜ å°„ï¼š

å¸¸è§å­—æ®µåæ˜ å°„ï¼š
- shop_code â†’ å¯èƒ½æ˜¯ï¼šoutlet_codeã€åº—é“ºä»£ç ã€é—¨åº—ç¼–å·
- latitude â†’ å¯èƒ½æ˜¯ï¼šçº¬åº¦ã€lat
- longitude â†’ å¯èƒ½æ˜¯ï¼šç»åº¦ã€lngã€lon
- outlet_name â†’ å¯èƒ½æ˜¯ï¼šnama_pemilikã€åº—é“ºåç§°ã€é—¨åº—åç§°
- brand â†’ å¯èƒ½æ˜¯ï¼šå“ç‰Œã€brand_name
- kecamatan â†’ å¯èƒ½æ˜¯ï¼šåŒºåŸŸã€districtã€åœ°åŒº
- potensi â†’ å¯èƒ½æ˜¯ï¼šæ½œåŠ›ã€potentialã€ç±»å‹

âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹ï¼š

1. **Tokenæ›¿æ¢**ï¼šå°†è¯·æ±‚å¤´ä¸­çš„ `ghp_your_real_token_here` æ›¿æ¢ä¸ºç¬¬ä¸€æ­¥è·å–çš„çœŸå®GitHub Token

2. **ä»“åº“åç§°**ï¼šç¡®è®¤ä½¿ç”¨æ­£ç¡®çš„ä»“åº“åç§° `indonesia-map-feishu-integration`

3. **å­—æ®µåç§°**ï¼šç¡®ä¿JSONä¸­çš„å­—æ®µåä¸æ‚¨è¡¨æ ¼ä¸­çš„å®é™…å­—æ®µåä¸€è‡´

4. **å¿…å¡«å­—æ®µ**ï¼šshop_codeã€latitudeã€longitude æ˜¯å¿…å¡«çš„ï¼Œå…¶ä»–å­—æ®µå¯é€‰

5. **æ•°æ®æ ¼å¼**ï¼šç¡®ä¿çº¬åº¦ç»åº¦æ˜¯æ•°å­—æ ¼å¼ï¼Œä¸è¦åŒ…å«æ–‡å­—

ğŸ“ ç¤ºä¾‹é…ç½®ï¼š

å‡è®¾æ‚¨çš„è¡¨æ ¼å­—æ®µåä¸ºï¼š
- é—¨åº—ç¼–å· â†’ shop_code
- çº¬åº¦ â†’ latitude  
- ç»åº¦ â†’ longitude
- åº—ä¸»å§“å â†’ outlet_name
- å“ç‰Œ â†’ brand
- åŒºåŸŸ â†’ kecamatan
- æ½œåŠ›ç­‰çº§ â†’ potensi

åˆ™JSONé…ç½®ä¸ºï¼š
```json
{
  "event_type": "feishu-data-update",
  "client_payload": {
    "shop_code": "{{è®°å½•.é—¨åº—ç¼–å·}}",
    "latitude": "{{è®°å½•.çº¬åº¦}}",
    "longitude": "{{è®°å½•.ç»åº¦}}",
    "outlet_name": "{{è®°å½•.åº—ä¸»å§“å}}",
    "brand": "{{è®°å½•.å“ç‰Œ}}",
    "kecamatan": "{{è®°å½•.åŒºåŸŸ}}",
    "potensi": "{{è®°å½•.æ½œåŠ›ç­‰çº§}}"
  }
}
```

ğŸ§ª æµ‹è¯•æ–¹æ³•ï¼š

1. **ä¿å­˜è‡ªåŠ¨åŒ–è§„åˆ™**
2. **åœ¨è¡¨æ ¼ä¸­æ·»åŠ ä¸€æ¡æµ‹è¯•è®°å½•**
3. **æ£€æŸ¥è‡ªåŠ¨åŒ–æ‰§è¡Œæ—¥å¿—**
4. **è®¿é—®GitHub ActionsæŸ¥çœ‹æ˜¯å¦è§¦å‘**ï¼š
   https://github.com/AlimanIrawan/indonesia-map-feishu-integration/actions
5. **ç¡®è®¤CSVæ–‡ä»¶æ˜¯å¦æ›´æ–°**

âœ… æˆåŠŸæ ‡å¿—ï¼š
- é£ä¹¦è‡ªåŠ¨åŒ–æ˜¾ç¤º"æ‰§è¡ŒæˆåŠŸ"
- GitHub Actionsæ˜¾ç¤ºæ–°çš„å·¥ä½œæµè¿è¡Œ
- public/markers.csvæ–‡ä»¶æœ‰æ–°æ•°æ®
- Netlifyåº”ç”¨æ˜¾ç¤ºæ›´æ–°åçš„åœ°å›¾

âŒ å¸¸è§é”™è¯¯ï¼š

1. **401 Unauthorizedï¼ˆBad credentialsï¼‰**ï¼š
   - GitHub Tokené”™è¯¯ã€è¿‡æœŸæˆ–æƒé™ä¸è¶³
   - é‡æ–°ç”ŸæˆTokenå¹¶ç¡®ä¿å¤åˆ¶å®Œæ•´
   - ç¡®ä¿Tokenæœ‰repoæƒé™

2. **400 Bad Request**ï¼š
   - JSONæ ¼å¼é”™è¯¯
   - å­—æ®µåä¸åŒ¹é…
   - æ•°æ®ç±»å‹ä¸æ­£ç¡®

3. **404 Not Found**ï¼š
   - ä»“åº“è·¯å¾„é”™è¯¯ï¼ˆæ£€æŸ¥æ˜¯å¦ä¸ºindonesia-map-feishu-integrationï¼‰
   - Tokenæ²¡æœ‰ä»“åº“è®¿é—®æƒé™

4. **é£ä¹¦æ˜¾ç¤ºæˆåŠŸä½†GitHubæ— å˜åŒ–**ï¼š
   - é€šå¸¸æ˜¯401è®¤è¯å¤±è´¥å¯¼è‡´
   - æ£€æŸ¥Tokenæ˜¯å¦æ­£ç¡®é…ç½®

ğŸ”§ ç«‹å³ä¿®å¤æ­¥éª¤ï¼š

å¦‚æœé‡åˆ°401é”™è¯¯ï¼š
1. é‡æ–°è®¿é—®ï¼šhttps://github.com/settings/tokens
2. åˆ é™¤æ—§çš„Token
3. åˆ›å»ºæ–°çš„Tokenï¼Œç¡®ä¿é€‰æ‹©repoæƒé™
4. å¤åˆ¶å®Œæ•´çš„Tokenï¼ˆåŒ…æ‹¬ghp_å‰ç¼€ï¼‰
5. åœ¨é£ä¹¦è‡ªåŠ¨åŒ–ä¸­æ›´æ–°Authorizationå¤´éƒ¨
6. ç¡®è®¤è¯·æ±‚URLä½¿ç”¨æ­£ç¡®ä»“åº“åï¼šindonesia-map-feishu-integration

ğŸ”„ å®Œæ•´æµç¨‹éªŒè¯ï¼š

1. æ·»åŠ æµ‹è¯•æ•°æ® â†’ 
2. é£ä¹¦è‡ªåŠ¨åŒ–è§¦å‘ â†’ 
3. GitHub Actionsæ‰§è¡Œ â†’ 
4. CSVæ–‡ä»¶æ›´æ–° â†’ 
5. Netlifyé‡æ–°éƒ¨ç½² â†’ 
6. åœ°å›¾æ˜¾ç¤ºæ–°æ•°æ®

å®Œæˆä»¥ä¸Šé…ç½®åï¼Œæ‚¨çš„é£ä¹¦è¡¨æ ¼æ•°æ®å°†è‡ªåŠ¨åŒæ­¥åˆ°åœ°å›¾åº”ç”¨ï¼ 